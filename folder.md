# VIC Calibration Project Folder Structure (Updated for Your Setup)

```
VIC_Calibration_Project/
│
├── README.md                           # Project documentation
├── requirements.txt                    # Python dependencies
├── calibration_enhanced.py             # Main enhanced calibration script
├── format_soil_params_final.py         # Soil parameter formatting module
├── run_calibration.sh                  # Shell script for running calibration
├── verify_forcing_files.py             # Forcing files verification script
│
├── config/                             # Configuration files
│   ├── calibration_config.ini          # Main configuration file
│   └── vic_global_template.params      # VIC global parameter template
│
├── src/                                # Source files and UH files
│   ├── *.uh_s                         # Unit hydrograph files (generated)
│   └── utilities/                      # Utility scripts
│       ├── __init__.py
│       ├── data_validator.py           # Data validation utilities
│       ├── post_processor.py           # Post-processing utilities
│       └── visualization.py           # Plotting and visualization
│
├── input/                              # Input data directory
│   ├── global.params                   # VIC global parameters
│   ├── soil.param                      # VIC soil parameters (generated)
│   ├── vicNl                          # VIC executable
│   │
│   ├── forcing/                        # Meteorological forcing data
│   │   ├── forcing_19.2871_82.7093    # Your forcing files
│   │   ├── forcing_19.2871_82.7593    # 4 columns: rain tmax tmin wind
│   │   ├── forcing_19.3371_82.8093    # Tab or space separated
│   │   ├── forcing_19.3371_82.8093    # Each file covers simulation period
│   │   ├── forcing_19.3371_82.8593    # Coordinates in filename
│   │   ├── forcing_19.3871_82.6593    # Pattern: forcing_LAT_LON
│   │   ├── forcing_19.3871_82.7093    
│   │   ├── forcing_19.3871_82.7593    
│   │   └── forcing_19.3871_82.8093    # Total: Multiple grid cells
│   │
│   ├── observed_data/                  # Observed streamflow data
│   │   ├── Mahanadi_discharge_14stations.xlsx
│   │   ├── station_info.csv           # Station metadata
│   │   └── data_quality_flags.csv     # Data quality information
│   │
│   └── gis/                           # GIS data
│       ├── Mahanadi_grid.tif
│       ├── Mahanadi_basin_ElvAvg.tif
│       ├── Mahanadi_basin_SlopeAvg.tif
│       ├── Mahanadi_basin_Precip.tif
│       ├── Mahanadi_basin_SoilsAgg.tif
│       └── basin_boundary.shp         # Basin boundary shapefile
│
├── output/                            # Output directory
│   ├── fluxes/                        # VIC flux outputs
│   │   ├── calibrated/                # Calibration run outputs
│   │   │   ├── fluxes_19.2871_82.7093 # VIC flux files (generated)
│   │   │   ├── fluxes_19.2871_82.7593 # Correspond to forcing files
│   │   │   ├── fluxes_19.3371_82.8093 # Same naming pattern
│   │   │   ├── fluxes_19.3371_82.8093 # Contains: runoff, baseflow, etc.
│   │   │   ├── fluxes_19.3371_82.8593 # Generated by VIC model
│   │   │   ├── fluxes_19.3871_82.6593 # Used by routing model
│   │   │   ├── fluxes_19.3871_82.7093 
│   │   │   ├── fluxes_19.3871_82.7593 
│   │   │   └── fluxes_19.3871_82.8093 
│   │   ├── validation/                # Validation run outputs
│   │   └── archived/                  # Archived outputs
│   │
│   ├── calibration/                   # Calibration results
│   │   ├── logs/                      # Log files
│   │   │   ├── calibration.log
│   │   │   └── vic.log
│   │   ├── results/                   # Calibration result files
│   │   │   ├── SCEUA_VIC_Mahanadi_enhanced.csv
│   │   │   ├── best_parameters.json
│   │   │   └── parameter_history.csv
│   │   ├── plots/                     # Calibration plots
│   │   │   ├── parameter_evolution.png
│   │   │   ├── objective_function.png
│   │   │   └── station_performance.png
│   │   └── validation/                # Validation results
│   │       ├── validation_metrics.csv
│   │       └── hydrographs/           # Station hydrographs
│   │
│   └── routing/                       # Routing model outputs
│       ├── KANTAMAL.day_mm            # Daily streamflow files
│       ├── KESINGA.day_mm             # One per station
│       ├── SALEBHATA.day_mm           # Format: Year Month Day Flow_mm
│       ├── ANDHIYARKHORE.day_mm       
│       ├── BAMNIDHI.day_mm            
│       ├── BARONDA.day_mm             
│       ├── BASANTPUR.day_mm           
│       ├── GHATORA.day_mm             
│       ├── JONDHRA.day_mm             
│       ├── KOTNI.day_mm               
│       ├── KURUBHATA.day_mm           
│       ├── RAJIM.day_mm               
│       ├── RAMPUR.day_mm              
│       ├── SIMGA.day_mm               
│       └── summary_stats.csv          # Summary statistics
│
├── routing_model/                     # Routing model files
│   ├── rout                           # Routing executable
│   ├── station.txt                    # Station configuration
│   ├── station_optimized.txt          # Optimized station configuration
│   ├── fdr.txt                        # Flow direction file
│   ├── fraction.txt                   # Fraction file
│   └── routing_input_template.txt     # Routing input template
│
├── scripts/                           # Utility scripts
│   ├── data_preparation/              # Data preparation scripts
│   │   ├── prepare_forcing_data.py    # Format forcing data
│   │   ├── validate_observations.py   # Validate observed data
│   │   └── create_station_files.py    # Create station configuration files
│   │
│   ├── analysis/                      # Analysis scripts
│   │   ├── plot_results.py            # Plot calibration results
│   │   ├── generate_summary.py        # Generate summary reports
│   │   ├── sensitivity_analysis.py    # Parameter sensitivity analysis
│   │   └── uncertainty_analysis.py    # Uncertainty quantification
│   │
│   └── validation/                    # Validation scripts
│       ├── split_period_validation.py # Split-period validation
│       ├── cross_validation.py        # Cross-validation
│       └── performance_metrics.py     # Performance metric calculations
│
├── verification_output/               # Verification script outputs
│   ├── forcing_analysis_report.md     # Forcing files analysis report
│   └── sample_global.params           # Sample VIC global parameters
│
├── tests/                             # Unit tests
│   ├── __init__.py
│   ├── test_calibration.py            # Test calibration functions
│   ├── test_vic_model.py              # Test VIC model interface
│   ├── test_routing.py                # Test routing functions
│   └── test_data_processing.py        # Test data processing functions
│
├── docs/                              # Documentation
│   ├── user_guide.md                  # User guide
│   ├── technical_documentation.md     # Technical documentation
│   ├── parameter_descriptions.md      # Parameter descriptions
│   └── troubleshooting.md             # Troubleshooting guide
│
└── backup/                            # Backup directory
    ├── configurations/                # Backup configurations
    ├── results/                       # Important results backup
    └── data/                          # Data backups
```

## Key Points for Your Setup

### **Forcing Files Structure**
- **Location**: `input/forcing/`
- **Naming**: `forcing_LAT_LON` (e.g., `forcing_19.2871_82.7093`)
- **Format**: 4 columns (rain, tmax, tmin, wind), tab/space separated
- **Coverage**: Each file covers the entire simulation period

### **Expected VIC Flux Files**
- **Location**: `output/fluxes/calibrated/`
- **Naming**: `fluxes_LAT_LON` (e.g., `fluxes_19.2871_82.7093`)
- **Generated by**: VIC model execution
- **Used by**: Routing model for streamflow calculation

### **Routing Model Flow**
```
Forcing Files → VIC Model → Flux Files → Routing Model → Station Outputs
```

### **Key Configuration Updates**

In `config/calibration_config.ini`:
```ini
[PATHS]
forcing_dir = ../input/forcing/
flux_output = ../output/fluxes/calibrated/

[FORCING_FILES]
file_prefix = forcing_
coordinate_pattern = latitude_longitude
columns = rain,tmax,tmin,wind

[FLUX_FILES]
file_prefix = fluxes_
```

### **Verification Steps**

1. **Check Forcing Files**:
   ```bash
   python verify_forcing_files.py --forcing-dir input/forcing/
   ```

2. **Run VIC Model**:
   ```bash
   ./input/vicNl -g input/global.params
   ```

3. **Verify Flux Files**:
   ```bash
   ls -la output/fluxes/calibrated/fluxes_*
   ```

4. **Test Routing Model**:
   ```bash
   ./routing_model/rout routing_input_test.txt
   ```

5. **Start Calibration**:
   ```bash
   ./run_calibration.sh
   ```

## File Count Expectations

Based on your forcing files screenshot:
- **Forcing Files**: ~9 files (forcing_19.XXXX_82.XXXX)
- **Expected Flux Files**: ~9 corresponding files (fluxes_19.XXXX_82.XXXX)
- **Station Output Files**: 14 files (one per station: STATION_NAME.day_mm)

## Setup Commands for Your Structure

```bash
# Create the complete directory structure
mkdir -p VIC_Calibration_Project/{config,src/utilities,verification_output}
mkdir -p VIC_Calibration_Project/input/{forcing,observed_data,gis}
mkdir -p VIC_Calibration_Project/output/{fluxes/{calibrated,validation},calibration/{logs,results,plots},routing}
mkdir -p VIC_Calibration_Project/{routing_model,scripts/{data_preparation,analysis,validation},tests,docs,backup}

# Copy your forcing files
cp /path/to/your/forcing_* VIC_Calibration_Project/input/forcing/

# Set executable permissions
chmod +x VIC_Calibration_Project/run_calibration.sh
chmod +x VIC_Calibration_Project/verify_forcing_files.py
chmod +x VIC_Calibration_Project/routing_model/rout
chmod +x VIC_Calibration_Project/input/vicNl
```

This structure is specifically tailored to your forcing file naming convention and expected VIC output pattern.